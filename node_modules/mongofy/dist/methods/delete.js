"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.del = void 0;
const base_1 = require("../base");
async function del(self, key) {
    if (key) {
        if (!(await self.has(key)))
            throw new Error("[mongofy] No key with this name was found in the saved data");
        const data = await self.collection.findOne(self.filter);
        await self.collection.replaceOne(self.filter, (0, base_1.del)(data, key, self.separator));
    }
    else {
        await self.collection.deleteOne(self.filter);
    }
    return true;
}
exports.del = del;
//# sourceMappingURL=delete.js.map